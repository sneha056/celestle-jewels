<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="stylesheet" href="bootstrap.min.css">
  <link rel="stylesheet" href="navbar.css">
  <link rel="stylesheet" href="footer.css">
  <link rel="stylesheet" href="bag-style.css">
  <title>Bag</title>
</head>

<body>
  <!-- banner -->
  <div class="breadcumb-wrapper background-image" style="background-image: url(breadcumb-bg-4.jpg);">
    <div class="container z-index-common">
      <div class="breadcumb-content">
        <h1 class="breadcumb-title">Bag</h1>
        <div class="breadcumb-menu-wrap">
          <ul class="breadcumb-menu">
            <li><a href="index.html">Home &gt &gt</a></li>
            <li>Bag</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <section class="space space-extra-bottom" style="background-color: #7d1550;">
    <div class="container">
      <div class="woocommerce-notices-wrapper">
        <div class="woocommerce-message">Shipping costs updated.</div>
      </div>
      <form action="#" class="woocommerce-cart-form">
        <table class="cart_table">
          <thead>
            <tbody id="bagItems">

              <th class="cart-col-image">Image</th>
              <th class="cart-col-productname">Product Name</th>
              <th class="cart-col-price">Price</th>
              <th class="cart-col-quantity">Quantity</th>
              <th class="cart-col-total">Total</th>
              <th class="cart-col-remove">Remove</th>
            </tbody>
          </thead>
          <tbody>
            
          </tbody>
        </table>
      </form>
      <div class="row justify-content-end">
        <div class="col-md-8 col-lg-7 col-xl-6">
          <h2 class="h4 summary-title">Cart Totals</h2>
          <table class="cart_totals">
            <tbody>
              <tr>
                <td>Cart Subtotal</td>
                <td data-title="Cart Subtotal"><span class="amount"><bdi><span>$</span>600.00</bdi></span>
                </td>
              </tr>
              <tr class="shipping">
                <th>Shipping and Handling</th>
                <td data-title="Shipping and Handling">
                  <ul class="woocommerce-shipping-methods list-unstyled">
                    <li><input type="radio" id="free_shipping" name="shipping_method" class="shipping_method"> <label
                        for="free_shipping">Free
                        shipping</label></li>
                    <li><input type="radio" id="flat_rate" name="shipping_method" class="shipping_method"
                        checked="checked"> <label for="flat_rate">Flat
                        rate</label></li>
                  </ul>
                  <p class="woocommerce-shipping-destination">Shipping options will be updated during
                    checkout.</p>
                  <form action="https://api.web3forms.com/submit" method="POST" class="woocommerce-cart-form">
                    <p style="color: black; font-weight: bold;">Enter address:</p>
                    
                    <div class="shipping-calculator-form">
                      <input type="hidden" name="access_key" value="fc94ede8-267e-42e6-8a99-d759efbdbdff">
                      <p class="form-row">
                        <input class="form-control" type="text" name="name" id="fname" placeholder="Your Name *"
                          required>
                      </p>
                      <p class="form-row">
                        <input class="form-control" type="text" name="name" id="lname" placeholder="Last Name ">
                      </p>
                      <p class="form-row">
                        <input class="form-control" type="email" name="email" id="email" placeholder="Email Address *"
                          required>
                      </p>
                      <p class="form-row">
                        <input class="form-control" type="number" name="phone" id="phone" placeholder="Phone *"
                          required>
                      </p>

                      <p class="form-row">
                        <input class="form-control" type="text" name="State" id="State"
                          placeholder="Enter Your State: *" required>
                      </p>
                      <p class="form-row"><input type="text" class="form-control" placeholder="Town / City *" required>
                      </p>
                      <p class="form-row"><input type="text" class="form-control" placeholder="Postcode / ZIP *"
                          required>
                      </p>
                    </div>
                  </form>
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr class="order-total">
                <td>Order Total</td>
                <td data-title="Total"><strong><span class="amount"><bdi><span>$</span>600.00</bdi></span></strong></td>
              </tr>
            </tfoot>
          </table>
          <div class="wc-proceed-to-checkout mb-30"><a href="checkout.html" class="vs-btn">Proceed
              to checkout</a></div>
        </div>
      </div>
    </div>
  </section>
  <script src="java script/navbar.js"></script>


  <script src="java script/footer.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const bag = JSON.parse(localStorage.getItem('bag')) || [];
        const container = document.getElementById('bagItems');
        
        bag.forEach((item, index) => {
            const tr = document.createElement('tr');
            tr.className = 'cart_item';
            tr.innerHTML = `
                <td data-title="Product">
                    <a class="cart-productimage" href="#">
                        <img width="100" height="95" src="${item.image}" alt="${item.name}">
                    </a>
                </td>
                <td data-title="Name">
                    <a class="cart-productname" href="#">${item.name}</a>
                </td>
                <td data-title="Price"><span class="amount"><bdi>${item.price}</bdi></span></td>
                <td data-title="Quantity">
                    <div class="quantity style2">
                        <div class="quantity__field quantity-container">
                            <button class="quantity-minus qty-btn" onclick="updateQuantity(${index}, -1)">
                                <i class="fa-solid fa-minus fal"></i>
                            </button>
                            <input type="number" class="qty-input" value="1" min="1">
                            <button class="quantity-plus qty-btn" onclick="updateQuantity(${index}, 1)">
                                <i class="fa-solid fa-plus fal"></i>
                            </button>
                        </div>
                    </div>
                </td>
                <td data-title="Total"><span class="amount"><bdi>${item.price}</bdi></span></td>
                <td data-title="Remove"><a href="#" class="remove" onclick="removeItem(${index})"><i class="fa-solid fa-trash fal"></i></a></td>
            `;
            container.appendChild(tr);
        });
        
        updateTotals();
    });
    
    function updateQuantity(index, change) {
        const bag = JSON.parse(localStorage.getItem('bag'));
        const input = document.querySelectorAll('.qty-input')[index];
        let newValue = parseInt(input.value) + change;
        
        if(newValue < 1) newValue = 1;
        input.value = newValue;
        
        // Update price calculations
        updateTotals();
    }
    
    function removeItem(index) {
        const bag = JSON.parse(localStorage.getItem('bag'));
        bag.splice(index, 1);
        localStorage.setItem('bag', JSON.stringify(bag));
        location.reload();
    }
    
    function updateTotals() {
        // Add your total calculation logic here
    }
    </script>
    
</body>

</html>